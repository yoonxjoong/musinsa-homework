# musinsa-homework
[MUSINSA] Java(Kotlin) Backend Engineer - 과제

## 프로젝트 개요

이 서비스는 특정 카테고리에서 최저가 브랜드와 상품 가격을 조회하거나, 단일 브랜드로 모든 카테고리 상품을 구매할 때의 최저가를 조회할 수 있는 API를 제공합니다. 
또한, 운영자가 브랜드 및 상품을 추가, 업데이트, 삭제할 수 있는 기능을 포함하고 있습니다.


1. 고객은 카테고리 별로 최저가격인 브랜드와 가격을 조회하고 총액이 얼마인지 확인할 수 있어야 합니다.
    - GET : /api/v1/categories/lowest-prices
    - select max(commodity_price), min(commodity_price) from tbl_commodity group by category_auto_sn;

2. 고객은 단일 브랜드로 전체 카테고리 상품을 구매할 경우 최저가격인 브랜드와 총액이 얼마인지 확인할 수 있어야 합니다.
    - GET : /api/v1/brands/lowest-commodities
3. 고객은 특정 카테고리에서 최저가격 브랜드와 최고가격 브랜드를 확인하고 각 브랜드 상품의 가격을 확인할 수 있어야 합니다.
    - GET : /api/v1/categories/{category}/price-rages
4. 운영자는 새로운 브랜드를 등록하고, 모든 브랜드의 상품을 추가, 변경, 삭제할 수 있어야 합니다.
    - 브랜드 등록 (POST) : /api/v1/brands
    - 상품 추가 (POST) : /api/v1/commodities
    - 상품 변경 (PUT) : /api/v1/commodities
    - 상품 삭제 (DELETE) : /api/v1/commodities

## 기능 설명

### 1. 카테고리별 최저 가격 브랜드와 상품 가격, 총액 조회 API
- **엔드포인트**: `/api/v1/lowest-prices`
- **기능 설명**: 각 카테고리에서 최저 가격의 브랜드와 상품 가격을 조회하고, 그 총액을 반환합니다.

### 2. 단일 브랜드로 모든 카테고리 상품을 구매할 때 최저 가격 조회 API
- **엔드포인트**: `/api/v1/lowest-total-price`
- **기능 설명**: 모든 카테고리 상품을 단일 브랜드로 구매할 때 최저가 브랜드와 각 상품의 가격, 총액을 반환합니다.

### 3. 카테고리별 최저 및 최고 가격 브랜드와 상품 가격 조회 API
- **엔드포인트**: `/api/v1/price-ranges`
- **기능 설명**: 특정 카테고리에서 최저 가격 및 최고 가격 브랜드와 해당 상품의 가격을 반환합니다.

### 4. 브랜드 및 상품 관리 API
- **엔드포인트**: `/api/v1/brand-management`
- **기능 설명**: 새로운 브랜드와 상품을 추가하거나, 기존 브랜드와 상품을 업데이트하거나, 삭제할 수 있습니다.


## 기술 스택

- **언어**: Java
- **프레임워크**: Spring Boot
- **데이터베이스**: H2 Database (로컬 인메모리 데이터베이스)
- **빌드 도구**: Maven
- **테스트**: JUnit, Spring Test



### 테이블 구조 (초안)

- tbl_brand

  | brand_auto_sn | sort_seq_no | use_yn | brand_nm | reg_id | reg_dtm             | modify_id | modify_dtm          |
  |---------------|-------------|--------|----------|--------|---------------------|-----------|---------------------|
  | 1             | 1           | Y      | A        | System | 2022-11-07 16:34:28 | System    | 2022-11-07 16:34:28 |
  | 2             | 2           | Y      | B        | System | 2022-11-07 16:34:28 | System    | 2022-11-07 16:34:28 |
  | 3             | 3           | Y      | C        | System | 2022-11-07 16:34:28 | System    | 2022-11-07 16:34:28 |
  | 4             | 4           | Y      | D        | System | 2022-11-07 16:34:28 | System    | 2022-11-07 16:34:28 |

- tbl_category

| category_auto_sn | sort_seq_no | cat_nm | use_yn | reg_id | reg_dtm             | modify_id | modify_dtm          |
|------------------|-------------|--------|--------|--------|---------------------|-----------|---------------------|
| 00001            | 1           | 상의     | Y      | System | 2022-11-07 16:34:28 | System    | 2022-11-07 16:34:28 |
| 00002            | 1           | 아우터    | Y      | System | 2022-11-07 16:34:28 | System    | 2022-11-07 16:34:28 |
| 00003            | 1           | 바지     | Y      | System | 2022-11-07 16:34:28 | System    | 2022-11-07 16:34:28 |
| 00004            | 1           | 스니커즈   | Y      | System | 2022-11-07 16:34:28 | System    | 2022-11-07 16:34:28 |
| 00005            | 1           | 가방     | Y      | System | 2022-11-07 16:34:28 | System    | 2022-11-07 16:34:28 |
| 00006            | 1           | 모자     | Y      | System | 2022-11-07 16:34:28 | System    | 2022-11-07 16:34:28 |
| 00007            | 1           | 양말     | Y      | System | 2022-11-07 16:34:28 | System    | 2022-11-07 16:34:28 |
| 00008            | 1           | 액세서리   | Y      | System | 2022-11-07 16:34:28 | System    | 2022-11-07 16:34:28 |


- tbl_commodity

| commodity_no | brand_auto_sn | category_auto_sn | commodity_price | reg_id | reg_dtm             | modify_id | modify_dtm          | 
|--------------|---------------|------------------|-----------------|--------|---------------------|-----------|---------------------|
| 1            | 1             | 00001            | 7000            | System | 2022-11-07 16:34:28 | System    | 2022-11-07 16:34:28 |
| 2            | 1             | 00002            | 3500            | System | 2022-11-07 16:34:28 | System    | 2022-11-07 16:34:28 |
| 3            | 1             | 00003            | 3500            | System | 2022-11-07 16:34:28 | System    | 2022-11-07 16:34:28 |
| 4            | 1             | 00003            | 3500            | System | 2022-11-07 16:34:28 | System    | 2022-11-07 16:34:28 |






